@using Reminder.Common.Entity
@using Reminder.WebUI.Models.Entity
@model IEnumerable<MyReminder>

@{
    ViewBag.Title = "ReminderList";
    var user = HttpContext.Current.User as UserPrincipal;
}

<h2>ReminderList</h2>

<div class="form-group">
    <div class="col-md-12">
        <button class="btn btn-success"
                onclick="location.href='@Url.Action("SearchList","Search")'">
            Search
        </button>
    </div>
</div>

<div class="col-md-2">
    <h3>Categories</h3>
    @Html.Action("CategoryList", "Category")


    @if (HttpContext.Current.User.Identity.IsAuthenticated)
    {

        if (user.IsInRole("Editor"))
        {
            <h3>Edit Mode</h3>
            @Html.RouteLink("Editor", "Editor_Mode", new { controller = "Editor", action = "Index" })
        }

        if (user.IsInRole("Admin"))
        {
            <h3>Admin Mode</h3>
            @Html.RouteLink("Admin", "Admin_Mode", new { controller = "Admin", action = "Index" })
        }
    }

</div>

<div class="col-md-10">
    <h3>Reminders</h3>
    @foreach (var reminder in Model)
    {
        Html.RenderPartial("_GetReminderItem", reminder);
    }
</div>


